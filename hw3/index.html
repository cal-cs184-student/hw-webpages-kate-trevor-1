<html>
	<head>
		<script src='https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.4/MathJax.js?config=default'></script>
		<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600&display=swap" rel="stylesheet">
		<style>
			h1 {
				text-align: center;
			}

			.container {
				margin: 0 auto;
				padding: 60px 20%;
			}

			figure {
				text-align: center;
			}

			img {
				display: inline-block;
			}

			body {
				font-family: 'Inter', sans-serif;
			}
		</style>
	</head>
	<body>
		<div class="container">
			<h1>CS184/284A Spring 2025 Homework 3 Write-Up</h1>
			<div style="text-align: center;">Names: Samhita Ghosh, Stacey Lei</div>
	
			<br>
		Link to webpage: <a href="https://github.com/cal-cs184-student/hw-webpages-kate-trevor-1">github.com/cal-cs184-student/hw-webpages-kate-trevor-1</a> <br/>
        Link to GitHub repository: <a href="https://github.com/cal-cs184-student/sp25-hw3-guppies">github.com/cal-cs184-student/sp25-hw3-guppies</a>
		
		<figure>
			<img src="cornell.png" alt="Cornell Boxes with Bunnies" style="width:70%"/>
			<figcaption>You can add images with captions!</figcaption>
		</figure>

		<!--
		We've already added one heading per part, to make your write-up as navigable when grading. Please fit your write-up within these sections!
		-->

		<h2>Overview</h2>
		Give a high-level overview of what you implemented in this homework. Think about what you've built as a whole. Share your thoughts on what interesting things you've learned from completing the homework.

		<h2>Part 1: Ray Generation and Scene Intersection</h2>
        @Stacey ray generation thought process <br/>

        @Stacey lmk if this looks ok for task 2
        When generating pixel samples, our biggest challenge is to transform the camera coordinates to world space coordinates. Our camera viewspace is given to us as a 1 x 1 unit square where the bottom left of that square is equivalent to the origin of our world space coordinate system. We need to translate and scale this to match our world coordinates, so we can do this by shifting the 1 x 1 square to center it at the origin (translate by 0.5 to the left and 0.5 units down) and then scale each coordinate by the width and height of our world space respectively.

        In order to determine if a ray (within the boundaries of the t values) and a triangle intersect and to determine the values for that intersection we can use the MÃ¶ller Trumbore Algorithm. Assuming a ray is of infinite length, the algorithm gives us the barycentric coordinates of the intersection of the ray with the plane the triangle is on. There are two checks we need to perform to determine if there is an intersection for this particular function. First, that the point of intersection actually lies within the bounds of the triangle which we can do by checking that the barycentric coordinates are all between 0 and 1. Second, we need to make sure that the value of t at the intersection falls within min_t and max_t of the input ray. For ray intersection of a sphere, we used the formulas given in lecture 9/10 similarly, making sure that the t value at the points of intersection fall within our given range. For the sphere, we can have 0-2 points of intersection since the equation we solve to determine the points is a quadratic.

        @Stacey can you add the images since my computer is tweaking

        <p>Some images with normal shading</p>
        <div style="display: flex; flex-direction: column; align-items: center;">
            <table style="width: 100%; text-align: center; border-collapse: collapse;">
              <tr>
                <td style="text-align: center;">
                  <img src="cornell.png" width="400px"/>
                  <figcaption>Caption goes here.</figcaption>
                </td>
                <td style="text-align: center;">
                  <img src="cornell.png" width="400px"/>
                  <figcaption>Caption goes here.</figcaption>
                </td>
              </tr>
            </table>
        </div>
		
		<h2>Part 2: Bounding Volume Hierarchy</h2>
		To construct a Bounding Volume Hierarchy (BVH), we began by defining two BBox variables, one to represent the overall bbox, and another to represent the centroid of each bbox. In order to build the initial BBox, we looped through the scene's primitives and expanded the bbox to include the bounding box of each primitive. We then calculated the centroid of the bbox and expanded the <code>centroid_box</code> variable accordingly. The latter will be used for our heuristic, which determines the split point based upon the axes that has the greatest spread of centroids (determined by checking the extent of the <code>centroid_box</code>). Afterwards, we created a new <code> BVHNode </code> with the constructed bbox. If we reached a list of primitives that was no more than <code>max_leaf_size</code>, we have hit a leaf and would update the node's start and end values accordingly. Recursively, we would then split the primitives into two groups based on the split point and reassign the original primitives listing based on the <code>split_point</code>. In the case that either of the groups was empty after splitting, we would add the first value of the other group into the empty one and delete it from it's original list. 

		<h2>Part 3: Direct Illumination</h2>
        Direct lighting with Uniform Hemisphere Sampling: for uniform hemisphere sampling, for each ray casted we want to calculate how much light is reflected back to the camera at the point of intersection. We can estimate amount of light that arrived at the intersection point using Monte Carlo Integration
        Direct lighting by Importance Sampling Lights: 

        @Stacey do we j say we flopepd here
		
		<h2>Part 4: Global Illumination</h2>
		Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.

		<h2>Part 5: Adaptive Sampling</h2>
		Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.

		<h2>(Optional) Part 6: Extra Credit Opportunities</h2>
		Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.
		
		<h2>Additional Notes (please remove)</h2>
		<ul>
			<li>You can also add code if you'd like as so: <code>code code code</code></li>
			<li>If you'd like to add math equations, 
				<ul>
					<li>You can write inline equations like so: \( a^2 + b^2 = c^2 \)</li>
					<li>You can write display equations like so: \[ a^2 + b^2 = c^2 \]</li>
				</ul>
			</li>
		</ul>
		</div>
	</body>
</html>